# è‡ªå®šä¹‰é‚®ä»¶é…ç½®ï¼šå‘ä»¶äººå’Œæ”¶ä»¶äººè®¾ç½®æŒ‡å—

## ğŸ“§ 1. å‘ä»¶äººé…ç½® (Sender Configuration)

åœ¨ `main.go` ä¸­ä¿®æ”¹ `CustomEmailConfig` ç»“æ„ä½“ï¼š

```go
customConfig := &email.CustomEmailConfig{
    // ğŸ·ï¸ åŸºç¡€å‘ä»¶äººä¿¡æ¯
    From:     "your-email@company.com",     // å‘ä»¶äººé‚®ç®±åœ°å€ (å¿…å¡«)
    FromName: "Your Display Name",          // å‘ä»¶äººæ˜¾ç¤ºåç§° (å¯é€‰)
    Username: "your-email@company.com",     // SMTPè®¤è¯ç”¨æˆ·å (å¿…å¡«)
    Password: "your-app-password",          // é‚®ç®±å¯†ç  (å¿…å¡«)

    // ğŸŒ SMTPæœåŠ¡å™¨è®¾ç½®
    Host: "smtp.company.com",               // SMTPæœåŠ¡å™¨åœ°å€ (å¿…å¡«)
    Port: 587,                              // SMTPç«¯å£ (å¿…å¡«)

    // ğŸ”’ å®‰å…¨è®¾ç½®
    UseStartTLS: true,                      // æ¨èå¯ç”¨STARTTLS
    UseTLS:      false,                     // æ ¹æ®æœåŠ¡å•†è¦æ±‚

    // ğŸ“§ å¯é€‰çš„é«˜çº§è®¾ç½®
    ReplyToAddress: "noreply@company.com",  // å›å¤åœ°å€
    BounceAddress:  "bounce@company.com",   // é€€ä¿¡åœ°å€
}
```

### å¸¸è§é‚®ä»¶æœåŠ¡å•†é…ç½®

#### Gmail é…ç½®
```go
customConfig := &email.CustomEmailConfig{
    Host:        "smtp.gmail.com",
    Port:        587,
    Username:    "your-email@gmail.com",
    Password:    "your-app-password",      // ä½¿ç”¨åº”ç”¨ä¸“ç”¨å¯†ç 
    From:        "your-email@gmail.com",
    UseStartTLS: true,
}
```

#### 163é‚®ç®±é…ç½®
```go
customConfig := &email.CustomEmailConfig{
    Host:        "smtp.163.com",
    Port:        25,                       // æˆ–587
    Username:    "your-email@163.com",
    Password:    "your-auth-code",         // ä½¿ç”¨æˆæƒç 
    From:        "your-email@163.com",
    UseStartTLS: true,
}
```

#### QQé‚®ç®±é…ç½®
```go
customConfig := &email.CustomEmailConfig{
    Host:        "smtp.qq.com",
    Port:        587,
    Username:    "your-email@qq.com",
    Password:    "your-auth-code",         // ä½¿ç”¨æˆæƒç 
    From:        "your-email@qq.com",
    UseStartTLS: true,
}
```

## ğŸ“§ 2. æ”¶ä»¶äººé…ç½® (Recipients Configuration)

æ”¶ä»¶äººåœ¨ `CustomEmailOptions` ä¸­è®¾ç½®ï¼š

```go
options := &email.CustomEmailOptions{
    Recipients: []string{
        "user1@company.com",
        "user2@partner.com",
        "user3@gmail.com",
    },
    Subject:  "é‚®ä»¶ä¸»é¢˜",
    Body:     "é‚®ä»¶å†…å®¹",
    // ... å…¶ä»–é€‰é¡¹
}
```

### æ”¶ä»¶äººé…ç½®ç¤ºä¾‹

#### åŸºç¡€æ”¶ä»¶äººè®¾ç½®
```go
options := &email.CustomEmailOptions{
    Recipients: []string{
        "manager@company.com",
        "developer@company.com",
    },
    Subject: "æµ‹è¯•é‚®ä»¶",
    Body:    "è¿™æ˜¯ä¸€å°æµ‹è¯•é‚®ä»¶",
}
```

#### æ‰¹é‡æ”¶ä»¶äººè®¾ç½®
```go
var recipients []string
// æ·»åŠ å¤šä¸ªæ”¶ä»¶äºº
for i := 1; i <= 100; i++ {
    recipients = append(recipients, fmt.Sprintf("user%d@company.com", i))
}

options := &email.CustomEmailOptions{
    Recipients: recipients,
    Template:   "newsletter",  // ä½¿ç”¨æ¨¡æ¿
    Variables: map[string]interface{}{
        "company": "Your Company",
        "month":   "12æœˆ",
    },
}
```

#### åˆ†æ‰¹å‘é€ (æ¨èå¤§é‡é‚®ä»¶æ—¶ä½¿ç”¨)
```go
batchSize := 50
allRecipients := []string{/* æ‰€æœ‰æ”¶ä»¶äºº */}

for i := 0; i < len(allRecipients); i += batchSize {
    end := i + batchSize
    if end > len(allRecipients) {
        end = len(allRecipients)
    }

    batchOptions := &email.CustomEmailOptions{
        Recipients: allRecipients[i:end],
        Subject:    "æ‰¹é‡é‚®ä»¶",
        Body:       "é‚®ä»¶å†…å®¹",
    }

    result, err := sender.SendCustomEmail(ctx, batchOptions)
    // å¤„ç†ç»“æœ...
}
```

## ğŸ”§ 3. ä¿®æ”¹ç°æœ‰çš„main.go

åœ¨ `examples/email/custom/main.go` ä¸­æ‰¾åˆ°è¿™äº›ä½ç½®å¹¶ä¿®æ”¹ï¼š

### ä¿®æ”¹å‘ä»¶äººé…ç½® (ç¬¬51-82è¡Œ)
```go
customConfig := &email.CustomEmailConfig{
    // ğŸ”§ ä¿®æ”¹è¿™äº›å€¼ä¸ºæ‚¨çš„å®é™…é…ç½®
    Host:        "YOUR_SMTP_HOST",          // å¦‚: smtp.gmail.com
    Port:        587,                       // æ ¹æ®æœåŠ¡å•†è°ƒæ•´
    Username:    "YOUR_EMAIL@DOMAIN.COM",   // æ‚¨çš„é‚®ç®±
    Password:    "YOUR_PASSWORD",           // æ‚¨çš„å¯†ç /æˆæƒç 
    From:        "YOUR_EMAIL@DOMAIN.COM",   // å‘ä»¶äººåœ°å€
    FromName:    "YOUR_DISPLAY_NAME",       // æ˜¾ç¤ºåç§°
    // ... å…¶ä»–é…ç½®ä¿æŒä¸å˜
}
```

### ä¿®æ”¹æ”¶ä»¶äººé…ç½® (ç¬¬173è¡Œ)
```go
Recipients: []string{
    "recipient1@example.com",  // ğŸ”§ ä¿®æ”¹ä¸ºå®é™…æ”¶ä»¶äºº
    "recipient2@example.com",  // ğŸ”§ æ·»åŠ æ›´å¤šæ”¶ä»¶äºº
},
```

## âš ï¸ é‡è¦æ³¨æ„äº‹é¡¹

1. **å¯†ç å®‰å…¨**:
   - Gmail: ä½¿ç”¨åº”ç”¨ä¸“ç”¨å¯†ç ï¼Œä¸æ˜¯ç™»å½•å¯†ç 
   - 163/QQ: ä½¿ç”¨æˆæƒç ï¼Œéœ€è¦åœ¨é‚®ç®±è®¾ç½®ä¸­å¼€å¯SMTPå¹¶ç”Ÿæˆ

2. **ç«¯å£é€‰æ‹©**:
   - 587: STARTTLS (æ¨è)
   - 465: SSL/TLS
   - 25: æ˜æ–‡æˆ–STARTTLS (éƒ¨åˆ†æœåŠ¡å•†)

3. **åŸŸåéªŒè¯**: å‘ä»¶äººåŸŸåè¦ä¸SMTPæœåŠ¡å™¨åŒ¹é…

4. **é¢‘ç‡é™åˆ¶**: å¤§éƒ¨åˆ†é‚®ä»¶æœåŠ¡å•†éƒ½æœ‰å‘é€é¢‘ç‡é™åˆ¶

## ğŸš€ å¿«é€Ÿæµ‹è¯•

ä¿®æ”¹é…ç½®åï¼Œè¿è¡Œç¤ºä¾‹ï¼š

```bash
cd examples/email/custom
go run main.go template-demo.go
```

æˆ–è¿è¡Œé…ç½®ç¤ºä¾‹ï¼š

```bash
go run config-example.go
```