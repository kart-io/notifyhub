# 高级示例

这个目录包含 NotifyHub 飞书集成的高级特性示例，展示复杂的使用场景和最佳实践。

## 📋 示例列表

### `comprehensive.go` - 综合高级特性
一个完整的高级特性演示文件，包含：

#### 🎨 消息格式化
- **模板变量替换** - 动态内容生成
- **复杂卡片消息** - 交互式界面元素
- **Markdown 丰富文本** - 格式化内容

#### 👥 用户交互
- **@提及特定用户** - 定向通知
- **@所有人** - 群组广播
- **批量目标发送** - 多渠道分发

#### ⚡ 性能优化
- **异步发送** - 非阻塞操作
- **批量处理** - 高效发送
- **错误重试** - 可靠性保证

#### 📊 监控管理
- **健康检查** - 系统状态监控
- **发送结果统计** - 成功/失败率分析
- **消息优先级** - 重要性分级

**运行方式：**
```bash
# 设置环境变量
export FEISHU_WEBHOOK_URL="你的飞书webhook地址"
export FEISHU_SECRET="你的签名密钥"  # 可选

# 运行综合示例
go run comprehensive.go
```

## 🎯 适用场景

- **企业通知系统** - 支持多种消息格式和优先级
- **DevOps 监控** - 系统状态和告警通知
- **项目管理** - 里程碑和进度更新
- **自动化流程** - 工作流状态通知

## 💡 最佳实践

1. **错误处理**: 总是检查发送结果和错误信息
2. **资源管理**: 使用 `defer hub.Close()` 确保资源清理
3. **配置管理**: 使用环境变量管理敏感信息
4. **监控集成**: 实施健康检查和指标收集
5. **性能优化**: 合理使用异步发送和批量操作

## 🔗 扩展阅读

- [卡片消息设计指南](https://open.feishu.cn/document/ukTMukTMukTM/uczM3QjL3MzN04yNzMDN)
- [飞书机器人开发文档](https://open.feishu.cn/document/ukTMukTMukTM/ucTM5YjL3ETO24yNxkjN)
- [NotifyHub 架构设计](../../docs/ARCHITECTURE.md)